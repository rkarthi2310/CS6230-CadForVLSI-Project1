/*
 * Generated by Bluespec Compiler, version 2021.12.1 (build fd501401)
 * 
 * On Sun Nov 17 07:27:54 IST 2024
 * 
 */
#include "bluesim_primitives.h"
#include "mkSystolic.h"


/* Constructor */
MOD_mkSystolic::MOD_mkSystolic(tSimStateHdl simHdl, char const *name, Module *parent)
  : Module(simHdl, name, parent),
    __clk_handle_0(BAD_CLOCK_HANDLE),
    INST_counter(simHdl, "counter", this, 32u, 0u, (tUInt8)0u),
    INST_systolic_array_0_0(simHdl, "systolic_array_0_0", this),
    INST_systolic_array_0_1(simHdl, "systolic_array_0_1", this),
    INST_systolic_array_0_2(simHdl, "systolic_array_0_2", this),
    INST_systolic_array_0_3(simHdl, "systolic_array_0_3", this),
    INST_systolic_array_1_0(simHdl, "systolic_array_1_0", this),
    INST_systolic_array_1_1(simHdl, "systolic_array_1_1", this),
    INST_systolic_array_1_2(simHdl, "systolic_array_1_2", this),
    INST_systolic_array_1_3(simHdl, "systolic_array_1_3", this),
    INST_systolic_array_2_0(simHdl, "systolic_array_2_0", this),
    INST_systolic_array_2_1(simHdl, "systolic_array_2_1", this),
    INST_systolic_array_2_2(simHdl, "systolic_array_2_2", this),
    INST_systolic_array_2_3(simHdl, "systolic_array_2_3", this),
    INST_systolic_array_3_0(simHdl, "systolic_array_3_0", this),
    INST_systolic_array_3_1(simHdl, "systolic_array_3_1", this),
    INST_systolic_array_3_2(simHdl, "systolic_array_3_2", this),
    INST_systolic_array_3_3(simHdl, "systolic_array_3_3", this),
    PORT_RST_N((tUInt8)1u)
{
  PORT_EN_initialise_systolic = false;
  PORT_get_result.setSize(128u);
  PORT_get_result.clear();
  symbol_count = 30u;
  symbols = new tSym[symbol_count];
  init_symbols_0();
}


/* Symbol init fns */

void MOD_mkSystolic::init_symbols_0()
{
  init_symbol(&symbols[0u], "counter", SYM_MODULE, &INST_counter);
  init_symbol(&symbols[1u], "EN_initialise_systolic", SYM_PORT, &PORT_EN_initialise_systolic, 1u);
  init_symbol(&symbols[2u], "get_result", SYM_PORT, &PORT_get_result, 128u);
  init_symbol(&symbols[3u], "RL_count_up", SYM_RULE);
  init_symbol(&symbols[4u], "RL_shift_a_column1", SYM_RULE);
  init_symbol(&symbols[5u], "RL_shift_a_column2", SYM_RULE);
  init_symbol(&symbols[6u], "RL_shift_a_column3", SYM_RULE);
  init_symbol(&symbols[7u], "RL_shift_b_row1", SYM_RULE);
  init_symbol(&symbols[8u], "RL_shift_b_row2", SYM_RULE);
  init_symbol(&symbols[9u], "RL_shift_b_row3", SYM_RULE);
  init_symbol(&symbols[10u], "RL_shift_c_row1", SYM_RULE);
  init_symbol(&symbols[11u], "RL_shift_c_row2", SYM_RULE);
  init_symbol(&symbols[12u], "RL_shift_c_row3", SYM_RULE);
  init_symbol(&symbols[13u], "systolic_array_0_0", SYM_MODULE, &INST_systolic_array_0_0);
  init_symbol(&symbols[14u], "systolic_array_0_1", SYM_MODULE, &INST_systolic_array_0_1);
  init_symbol(&symbols[15u], "systolic_array_0_2", SYM_MODULE, &INST_systolic_array_0_2);
  init_symbol(&symbols[16u], "systolic_array_0_3", SYM_MODULE, &INST_systolic_array_0_3);
  init_symbol(&symbols[17u], "systolic_array_1_0", SYM_MODULE, &INST_systolic_array_1_0);
  init_symbol(&symbols[18u], "systolic_array_1_1", SYM_MODULE, &INST_systolic_array_1_1);
  init_symbol(&symbols[19u], "systolic_array_1_2", SYM_MODULE, &INST_systolic_array_1_2);
  init_symbol(&symbols[20u], "systolic_array_1_3", SYM_MODULE, &INST_systolic_array_1_3);
  init_symbol(&symbols[21u], "systolic_array_2_0", SYM_MODULE, &INST_systolic_array_2_0);
  init_symbol(&symbols[22u], "systolic_array_2_1", SYM_MODULE, &INST_systolic_array_2_1);
  init_symbol(&symbols[23u], "systolic_array_2_2", SYM_MODULE, &INST_systolic_array_2_2);
  init_symbol(&symbols[24u], "systolic_array_2_3", SYM_MODULE, &INST_systolic_array_2_3);
  init_symbol(&symbols[25u], "systolic_array_3_0", SYM_MODULE, &INST_systolic_array_3_0);
  init_symbol(&symbols[26u], "systolic_array_3_1", SYM_MODULE, &INST_systolic_array_3_1);
  init_symbol(&symbols[27u], "systolic_array_3_2", SYM_MODULE, &INST_systolic_array_3_2);
  init_symbol(&symbols[28u], "systolic_array_3_3", SYM_MODULE, &INST_systolic_array_3_3);
  init_symbol(&symbols[29u],
	      "WILL_FIRE_initialise_systolic",
	      SYM_DEF,
	      &DEF_WILL_FIRE_initialise_systolic,
	      1u);
}


/* Rule actions */

void MOD_mkSystolic::RL_count_up()
{
  tUInt32 DEF_x__h2008;
  tUInt32 DEF__read__h1989;
  DEF__read__h1989 = INST_counter.METH_read();
  DEF_x__h2008 = DEF__read__h1989 + 1u;
  INST_counter.METH_write(DEF_x__h2008);
}

void MOD_mkSystolic::RL_shift_b_row1()
{
  tUInt32 DEF_b_in__h2328;
  tUInt32 DEF_b_in__h2663;
  tUInt32 DEF_b_in__h2773;
  tUInt32 DEF_b_in__h2883;
  DEF_b_in__h2883 = INST_systolic_array_0_3.METH_get_b();
  DEF_b_in__h2773 = INST_systolic_array_0_2.METH_get_b();
  DEF_b_in__h2663 = INST_systolic_array_0_1.METH_get_b();
  DEF_b_in__h2328 = INST_systolic_array_0_0.METH_get_b();
  INST_systolic_array_1_0.METH_set_b(DEF_b_in__h2328);
  INST_systolic_array_1_1.METH_set_b(DEF_b_in__h2663);
  INST_systolic_array_1_2.METH_set_b(DEF_b_in__h2773);
  INST_systolic_array_1_3.METH_set_b(DEF_b_in__h2883);
}

void MOD_mkSystolic::RL_shift_b_row2()
{
  tUInt32 DEF_b_in__h3153;
  tUInt32 DEF_b_in__h3359;
  tUInt32 DEF_b_in__h3467;
  tUInt32 DEF_b_in__h3575;
  DEF_b_in__h3575 = INST_systolic_array_1_3.METH_get_b();
  DEF_b_in__h3467 = INST_systolic_array_1_2.METH_get_b();
  DEF_b_in__h3359 = INST_systolic_array_1_1.METH_get_b();
  DEF_b_in__h3153 = INST_systolic_array_1_0.METH_get_b();
  INST_systolic_array_2_0.METH_set_b(DEF_b_in__h3153);
  INST_systolic_array_2_1.METH_set_b(DEF_b_in__h3359);
  INST_systolic_array_2_2.METH_set_b(DEF_b_in__h3467);
  INST_systolic_array_2_3.METH_set_b(DEF_b_in__h3575);
}

void MOD_mkSystolic::RL_shift_b_row3()
{
  tUInt32 DEF_b_in__h3843;
  tUInt32 DEF_b_in__h4049;
  tUInt32 DEF_b_in__h4157;
  tUInt32 DEF_b_in__h4265;
  DEF_b_in__h4265 = INST_systolic_array_2_3.METH_get_b();
  DEF_b_in__h4157 = INST_systolic_array_2_2.METH_get_b();
  DEF_b_in__h4049 = INST_systolic_array_2_1.METH_get_b();
  DEF_b_in__h3843 = INST_systolic_array_2_0.METH_get_b();
  INST_systolic_array_3_0.METH_set_b(DEF_b_in__h3843);
  INST_systolic_array_3_1.METH_set_b(DEF_b_in__h4049);
  INST_systolic_array_3_2.METH_set_b(DEF_b_in__h4157);
  INST_systolic_array_3_3.METH_set_b(DEF_b_in__h4265);
}

void MOD_mkSystolic::RL_shift_c_row1()
{
  tUInt8 DEF_s1_or_s2_in__h4601;
  tUInt8 DEF_s1_or_s2_in__h4905;
  tUInt8 DEF_s1_or_s2_in__h5111;
  tUInt8 DEF_s1_or_s2_in__h5317;
  tUInt32 DEF_c_in__h4412;
  tUInt32 DEF_c_in__h4812;
  tUInt32 DEF_c_in__h5018;
  tUInt32 DEF_c_in__h5224;
  DEF_c_in__h5224 = INST_systolic_array_0_3.METH_get_result();
  DEF_c_in__h5018 = INST_systolic_array_0_2.METH_get_result();
  DEF_c_in__h4812 = INST_systolic_array_0_1.METH_get_result();
  DEF_c_in__h4412 = INST_systolic_array_0_0.METH_get_result();
  DEF_s1_or_s2_in__h5317 = INST_systolic_array_0_3.METH_get_s1_or_s2();
  DEF_s1_or_s2_in__h5111 = INST_systolic_array_0_2.METH_get_s1_or_s2();
  DEF_s1_or_s2_in__h4905 = INST_systolic_array_0_1.METH_get_s1_or_s2();
  DEF_s1_or_s2_in__h4601 = INST_systolic_array_0_0.METH_get_s1_or_s2();
  INST_systolic_array_1_0.METH_set_c(DEF_c_in__h4412);
  INST_systolic_array_1_0.METH_set_s1_or_s2(DEF_s1_or_s2_in__h4601);
  INST_systolic_array_1_1.METH_set_c(DEF_c_in__h4812);
  INST_systolic_array_1_1.METH_set_s1_or_s2(DEF_s1_or_s2_in__h4905);
  INST_systolic_array_1_2.METH_set_c(DEF_c_in__h5018);
  INST_systolic_array_1_2.METH_set_s1_or_s2(DEF_s1_or_s2_in__h5111);
  INST_systolic_array_1_3.METH_set_c(DEF_c_in__h5224);
  INST_systolic_array_1_3.METH_set_s1_or_s2(DEF_s1_or_s2_in__h5317);
}

void MOD_mkSystolic::RL_shift_c_row2()
{
  tUInt8 DEF_s1_or_s2_in__h5665;
  tUInt8 DEF_s1_or_s2_in__h5969;
  tUInt8 DEF_s1_or_s2_in__h6175;
  tUInt8 DEF_s1_or_s2_in__h6381;
  tUInt32 DEF_c_in__h5476;
  tUInt32 DEF_c_in__h5876;
  tUInt32 DEF_c_in__h6082;
  tUInt32 DEF_c_in__h6288;
  DEF_c_in__h6288 = INST_systolic_array_1_3.METH_get_result();
  DEF_c_in__h6082 = INST_systolic_array_1_2.METH_get_result();
  DEF_c_in__h5876 = INST_systolic_array_1_1.METH_get_result();
  DEF_c_in__h5476 = INST_systolic_array_1_0.METH_get_result();
  DEF_s1_or_s2_in__h6381 = INST_systolic_array_1_3.METH_get_s1_or_s2();
  DEF_s1_or_s2_in__h6175 = INST_systolic_array_1_2.METH_get_s1_or_s2();
  DEF_s1_or_s2_in__h5969 = INST_systolic_array_1_1.METH_get_s1_or_s2();
  DEF_s1_or_s2_in__h5665 = INST_systolic_array_1_0.METH_get_s1_or_s2();
  INST_systolic_array_2_0.METH_set_c(DEF_c_in__h5476);
  INST_systolic_array_2_0.METH_set_s1_or_s2(DEF_s1_or_s2_in__h5665);
  INST_systolic_array_2_1.METH_set_c(DEF_c_in__h5876);
  INST_systolic_array_2_1.METH_set_s1_or_s2(DEF_s1_or_s2_in__h5969);
  INST_systolic_array_2_2.METH_set_c(DEF_c_in__h6082);
  INST_systolic_array_2_2.METH_set_s1_or_s2(DEF_s1_or_s2_in__h6175);
  INST_systolic_array_2_3.METH_set_c(DEF_c_in__h6288);
  INST_systolic_array_2_3.METH_set_s1_or_s2(DEF_s1_or_s2_in__h6381);
}

void MOD_mkSystolic::RL_shift_c_row3()
{
  tUInt8 DEF_s1_or_s2_in__h6729;
  tUInt8 DEF_s1_or_s2_in__h7033;
  tUInt8 DEF_s1_or_s2_in__h7239;
  tUInt8 DEF_s1_or_s2_in__h7445;
  tUInt32 DEF_c_in__h6540;
  tUInt32 DEF_c_in__h6940;
  tUInt32 DEF_c_in__h7146;
  tUInt32 DEF_c_in__h7352;
  DEF_c_in__h7352 = INST_systolic_array_2_3.METH_get_result();
  DEF_c_in__h7146 = INST_systolic_array_2_2.METH_get_result();
  DEF_c_in__h6940 = INST_systolic_array_2_1.METH_get_result();
  DEF_c_in__h6540 = INST_systolic_array_2_0.METH_get_result();
  DEF_s1_or_s2_in__h7445 = INST_systolic_array_2_3.METH_get_s1_or_s2();
  DEF_s1_or_s2_in__h7239 = INST_systolic_array_2_2.METH_get_s1_or_s2();
  DEF_s1_or_s2_in__h7033 = INST_systolic_array_2_1.METH_get_s1_or_s2();
  DEF_s1_or_s2_in__h6729 = INST_systolic_array_2_0.METH_get_s1_or_s2();
  INST_systolic_array_3_0.METH_set_c(DEF_c_in__h6540);
  INST_systolic_array_3_0.METH_set_s1_or_s2(DEF_s1_or_s2_in__h6729);
  INST_systolic_array_3_1.METH_set_c(DEF_c_in__h6940);
  INST_systolic_array_3_1.METH_set_s1_or_s2(DEF_s1_or_s2_in__h7033);
  INST_systolic_array_3_2.METH_set_c(DEF_c_in__h7146);
  INST_systolic_array_3_2.METH_set_s1_or_s2(DEF_s1_or_s2_in__h7239);
  INST_systolic_array_3_3.METH_set_c(DEF_c_in__h7352);
  INST_systolic_array_3_3.METH_set_s1_or_s2(DEF_s1_or_s2_in__h7445);
}

void MOD_mkSystolic::RL_shift_a_column1()
{
  tUInt32 DEF_a_in__h7597;
  tUInt32 DEF_a_in__h7801;
  tUInt32 DEF_a_in__h7907;
  tUInt32 DEF_a_in__h8013;
  DEF_a_in__h8013 = INST_systolic_array_3_0.METH_get_a();
  DEF_a_in__h7907 = INST_systolic_array_2_0.METH_get_a();
  DEF_a_in__h7801 = INST_systolic_array_1_0.METH_get_a();
  DEF_a_in__h7597 = INST_systolic_array_0_0.METH_get_a();
  INST_systolic_array_0_1.METH_set_a(DEF_a_in__h7597);
  INST_systolic_array_1_1.METH_set_a(DEF_a_in__h7801);
  INST_systolic_array_2_1.METH_set_a(DEF_a_in__h7907);
  INST_systolic_array_3_1.METH_set_a(DEF_a_in__h8013);
}

void MOD_mkSystolic::RL_shift_a_column2()
{
  tUInt32 DEF_a_in__h8153;
  tUInt32 DEF_a_in__h8357;
  tUInt32 DEF_a_in__h8463;
  tUInt32 DEF_a_in__h8569;
  DEF_a_in__h8569 = INST_systolic_array_3_1.METH_get_a();
  DEF_a_in__h8463 = INST_systolic_array_2_1.METH_get_a();
  DEF_a_in__h8357 = INST_systolic_array_1_1.METH_get_a();
  DEF_a_in__h8153 = INST_systolic_array_0_1.METH_get_a();
  INST_systolic_array_0_2.METH_set_a(DEF_a_in__h8153);
  INST_systolic_array_1_2.METH_set_a(DEF_a_in__h8357);
  INST_systolic_array_2_2.METH_set_a(DEF_a_in__h8463);
  INST_systolic_array_3_2.METH_set_a(DEF_a_in__h8569);
}

void MOD_mkSystolic::RL_shift_a_column3()
{
  tUInt32 DEF_a_in__h8707;
  tUInt32 DEF_a_in__h8911;
  tUInt32 DEF_a_in__h9017;
  tUInt32 DEF_a_in__h9123;
  DEF_a_in__h9123 = INST_systolic_array_3_2.METH_get_a();
  DEF_a_in__h9017 = INST_systolic_array_2_2.METH_get_a();
  DEF_a_in__h8911 = INST_systolic_array_1_2.METH_get_a();
  DEF_a_in__h8707 = INST_systolic_array_0_2.METH_get_a();
  INST_systolic_array_0_3.METH_set_a(DEF_a_in__h8707);
  INST_systolic_array_1_3.METH_set_a(DEF_a_in__h8911);
  INST_systolic_array_2_3.METH_set_a(DEF_a_in__h9017);
  INST_systolic_array_3_3.METH_set_a(DEF_a_in__h9123);
}


/* Methods */

void MOD_mkSystolic::METH_set_A_matrix(tUInt64 ARG_set_A_matrix_a_matrix)
{
  tUInt32 DEF_a_in__h9289;
  tUInt32 DEF_a_in__h9478;
  tUInt32 DEF_a_in__h9565;
  tUInt32 DEF_a_in__h9652;
  DEF_a_in__h9652 = (tUInt32)(ARG_set_A_matrix_a_matrix >> 48u);
  DEF_a_in__h9565 = (tUInt32)(65535u & (ARG_set_A_matrix_a_matrix >> 32u));
  DEF_a_in__h9478 = (tUInt32)(65535u & (ARG_set_A_matrix_a_matrix >> 16u));
  DEF_a_in__h9289 = (tUInt32)(65535u & ARG_set_A_matrix_a_matrix);
  INST_systolic_array_0_0.METH_set_a(DEF_a_in__h9289);
  INST_systolic_array_1_0.METH_set_a(DEF_a_in__h9478);
  INST_systolic_array_2_0.METH_set_a(DEF_a_in__h9565);
  INST_systolic_array_3_0.METH_set_a(DEF_a_in__h9652);
}

tUInt8 MOD_mkSystolic::METH_RDY_set_A_matrix()
{
  tUInt8 DEF_CAN_FIRE_set_A_matrix;
  tUInt8 PORT_RDY_set_A_matrix;
  DEF_CAN_FIRE_set_A_matrix = INST_systolic_array_0_0.METH_RDY_set_a() && (INST_systolic_array_1_0.METH_RDY_set_a() && (INST_systolic_array_2_0.METH_RDY_set_a() && INST_systolic_array_3_0.METH_RDY_set_a()));
  PORT_RDY_set_A_matrix = DEF_CAN_FIRE_set_A_matrix;
  return PORT_RDY_set_A_matrix;
}

void MOD_mkSystolic::METH_set_B_matrix(tUInt64 ARG_set_B_matrix_b_matrix)
{
  tUInt32 DEF_b_in__h9769;
  tUInt32 DEF_b_in__h9958;
  tUInt32 DEF_b_in__h10045;
  tUInt32 DEF_b_in__h10132;
  DEF_b_in__h10132 = (tUInt32)(ARG_set_B_matrix_b_matrix >> 48u);
  DEF_b_in__h10045 = (tUInt32)(65535u & (ARG_set_B_matrix_b_matrix >> 32u));
  DEF_b_in__h9958 = (tUInt32)(65535u & (ARG_set_B_matrix_b_matrix >> 16u));
  DEF_b_in__h9769 = (tUInt32)(65535u & ARG_set_B_matrix_b_matrix);
  INST_systolic_array_0_0.METH_set_b(DEF_b_in__h9769);
  INST_systolic_array_0_1.METH_set_b(DEF_b_in__h9958);
  INST_systolic_array_0_2.METH_set_b(DEF_b_in__h10045);
  INST_systolic_array_0_3.METH_set_b(DEF_b_in__h10132);
}

tUInt8 MOD_mkSystolic::METH_RDY_set_B_matrix()
{
  tUInt8 DEF_CAN_FIRE_set_B_matrix;
  tUInt8 PORT_RDY_set_B_matrix;
  DEF_CAN_FIRE_set_B_matrix = INST_systolic_array_0_0.METH_RDY_set_b() && (INST_systolic_array_0_1.METH_RDY_set_b() && (INST_systolic_array_0_2.METH_RDY_set_b() && INST_systolic_array_0_3.METH_RDY_set_b()));
  PORT_RDY_set_B_matrix = DEF_CAN_FIRE_set_B_matrix;
  return PORT_RDY_set_B_matrix;
}

void MOD_mkSystolic::METH_set_C_row1(tUInt32 ARG_set_C_row1_c_val)
{
  INST_systolic_array_0_0.METH_set_c(ARG_set_C_row1_c_val);
  INST_systolic_array_0_1.METH_set_c(ARG_set_C_row1_c_val);
  INST_systolic_array_0_2.METH_set_c(ARG_set_C_row1_c_val);
  INST_systolic_array_0_3.METH_set_c(ARG_set_C_row1_c_val);
}

tUInt8 MOD_mkSystolic::METH_RDY_set_C_row1()
{
  tUInt8 DEF_CAN_FIRE_set_C_row1;
  tUInt8 PORT_RDY_set_C_row1;
  DEF_systolic_array_0_0_RDY_set_c____d254 = INST_systolic_array_0_0.METH_RDY_set_c();
  DEF_systolic_array_0_3_RDY_set_c____d257 = INST_systolic_array_0_3.METH_RDY_set_c();
  DEF_systolic_array_0_2_RDY_set_c____d256 = INST_systolic_array_0_2.METH_RDY_set_c();
  DEF_systolic_array_0_1_RDY_set_c____d255 = INST_systolic_array_0_1.METH_RDY_set_c();
  DEF_CAN_FIRE_set_C_row1 = DEF_systolic_array_0_0_RDY_set_c____d254 && (DEF_systolic_array_0_1_RDY_set_c____d255 && (DEF_systolic_array_0_2_RDY_set_c____d256 && DEF_systolic_array_0_3_RDY_set_c____d257));
  PORT_RDY_set_C_row1 = DEF_CAN_FIRE_set_C_row1;
  return PORT_RDY_set_C_row1;
}

void MOD_mkSystolic::METH_set_s1_or_s2_row1(tUInt8 ARG_set_s1_or_s2_row1_s1_or_s2_in)
{
  INST_systolic_array_0_0.METH_set_s1_or_s2(ARG_set_s1_or_s2_row1_s1_or_s2_in);
  INST_systolic_array_0_1.METH_set_s1_or_s2(ARG_set_s1_or_s2_row1_s1_or_s2_in);
  INST_systolic_array_0_2.METH_set_s1_or_s2(ARG_set_s1_or_s2_row1_s1_or_s2_in);
  INST_systolic_array_0_3.METH_set_s1_or_s2(ARG_set_s1_or_s2_row1_s1_or_s2_in);
}

tUInt8 MOD_mkSystolic::METH_RDY_set_s1_or_s2_row1()
{
  tUInt8 DEF_CAN_FIRE_set_s1_or_s2_row1;
  tUInt8 PORT_RDY_set_s1_or_s2_row1;
  DEF_systolic_array_0_0_RDY_set_s1_or_s2____d260 = INST_systolic_array_0_0.METH_RDY_set_s1_or_s2();
  DEF_systolic_array_0_3_RDY_set_s1_or_s2____d263 = INST_systolic_array_0_3.METH_RDY_set_s1_or_s2();
  DEF_systolic_array_0_2_RDY_set_s1_or_s2____d262 = INST_systolic_array_0_2.METH_RDY_set_s1_or_s2();
  DEF_systolic_array_0_1_RDY_set_s1_or_s2____d261 = INST_systolic_array_0_1.METH_RDY_set_s1_or_s2();
  DEF_CAN_FIRE_set_s1_or_s2_row1 = DEF_systolic_array_0_0_RDY_set_s1_or_s2____d260 && (DEF_systolic_array_0_1_RDY_set_s1_or_s2____d261 && (DEF_systolic_array_0_2_RDY_set_s1_or_s2____d262 && DEF_systolic_array_0_3_RDY_set_s1_or_s2____d263));
  PORT_RDY_set_s1_or_s2_row1 = DEF_CAN_FIRE_set_s1_or_s2_row1;
  return PORT_RDY_set_s1_or_s2_row1;
}

void MOD_mkSystolic::METH_initialise_systolic(tUInt8 ARG_initialise_systolic_s1_or_s2_in)
{
  PORT_EN_initialise_systolic = (tUInt8)1u;
  DEF_WILL_FIRE_initialise_systolic = (tUInt8)1u;
  INST_systolic_array_0_0.METH_set_s1_or_s2(ARG_initialise_systolic_s1_or_s2_in);
  INST_systolic_array_0_0.METH_set_c(0u);
  INST_systolic_array_0_1.METH_set_s1_or_s2(ARG_initialise_systolic_s1_or_s2_in);
  INST_systolic_array_0_1.METH_set_c(0u);
  INST_systolic_array_0_2.METH_set_c(0u);
  INST_systolic_array_0_2.METH_set_s1_or_s2(ARG_initialise_systolic_s1_or_s2_in);
  INST_systolic_array_0_3.METH_set_s1_or_s2(ARG_initialise_systolic_s1_or_s2_in);
  INST_systolic_array_0_3.METH_set_c(0u);
  INST_systolic_array_1_0.METH_set_s1_or_s2(ARG_initialise_systolic_s1_or_s2_in);
  INST_systolic_array_1_0.METH_set_c(0u);
  INST_systolic_array_1_1.METH_set_s1_or_s2(ARG_initialise_systolic_s1_or_s2_in);
  INST_systolic_array_1_1.METH_set_c(0u);
  INST_systolic_array_1_2.METH_set_c(0u);
  INST_systolic_array_1_2.METH_set_s1_or_s2(ARG_initialise_systolic_s1_or_s2_in);
  INST_systolic_array_1_3.METH_set_s1_or_s2(ARG_initialise_systolic_s1_or_s2_in);
  INST_systolic_array_2_0.METH_set_s1_or_s2(ARG_initialise_systolic_s1_or_s2_in);
  INST_systolic_array_1_3.METH_set_c(0u);
  INST_systolic_array_2_0.METH_set_c(0u);
  INST_systolic_array_2_1.METH_set_s1_or_s2(ARG_initialise_systolic_s1_or_s2_in);
  INST_systolic_array_2_1.METH_set_c(0u);
  INST_systolic_array_2_2.METH_set_s1_or_s2(ARG_initialise_systolic_s1_or_s2_in);
  INST_systolic_array_2_2.METH_set_c(0u);
  INST_systolic_array_2_3.METH_set_s1_or_s2(ARG_initialise_systolic_s1_or_s2_in);
  INST_systolic_array_2_3.METH_set_c(0u);
  INST_systolic_array_3_0.METH_set_s1_or_s2(ARG_initialise_systolic_s1_or_s2_in);
  INST_systolic_array_3_0.METH_set_c(0u);
  INST_systolic_array_3_1.METH_set_c(0u);
  INST_systolic_array_3_1.METH_set_s1_or_s2(ARG_initialise_systolic_s1_or_s2_in);
  INST_systolic_array_3_2.METH_set_s1_or_s2(ARG_initialise_systolic_s1_or_s2_in);
  INST_systolic_array_3_2.METH_set_c(0u);
  INST_systolic_array_3_3.METH_set_s1_or_s2(ARG_initialise_systolic_s1_or_s2_in);
  INST_systolic_array_3_3.METH_set_c(0u);
  INST_systolic_array_0_1.METH_set_a(0u);
  INST_systolic_array_0_2.METH_set_a(0u);
  INST_systolic_array_1_1.METH_set_a(0u);
  INST_systolic_array_0_3.METH_set_a(0u);
  INST_systolic_array_1_2.METH_set_a(0u);
  INST_systolic_array_2_1.METH_set_a(0u);
  INST_systolic_array_1_3.METH_set_a(0u);
  INST_systolic_array_2_2.METH_set_a(0u);
  INST_systolic_array_2_3.METH_set_a(0u);
  INST_systolic_array_3_1.METH_set_a(0u);
  INST_systolic_array_3_2.METH_set_a(0u);
  INST_systolic_array_3_3.METH_set_a(0u);
}

tUInt8 MOD_mkSystolic::METH_RDY_initialise_systolic()
{
  tUInt8 DEF_CAN_FIRE_initialise_systolic;
  tUInt8 PORT_RDY_initialise_systolic;
  DEF_systolic_array_0_1_RDY_set_a____d177 = INST_systolic_array_0_1.METH_RDY_set_a();
  DEF_systolic_array_0_0_RDY_set_s1_or_s2____d260 = INST_systolic_array_0_0.METH_RDY_set_s1_or_s2();
  DEF_systolic_array_0_0_RDY_set_c____d254 = INST_systolic_array_0_0.METH_RDY_set_c();
  DEF_systolic_array_3_3_RDY_set_s1_or_s2____d145 = INST_systolic_array_3_3.METH_RDY_set_s1_or_s2();
  DEF_systolic_array_3_3_RDY_set_c____d141 = INST_systolic_array_3_3.METH_RDY_set_c();
  DEF_systolic_array_3_3_RDY_set_a____d218 = INST_systolic_array_3_3.METH_RDY_set_a();
  DEF_systolic_array_3_2_RDY_set_s1_or_s2____d144 = INST_systolic_array_3_2.METH_RDY_set_s1_or_s2();
  DEF_systolic_array_3_2_RDY_set_c____d140 = INST_systolic_array_3_2.METH_RDY_set_c();
  DEF_systolic_array_3_2_RDY_set_a____d199 = INST_systolic_array_3_2.METH_RDY_set_a();
  DEF_systolic_array_3_1_RDY_set_s1_or_s2____d143 = INST_systolic_array_3_1.METH_RDY_set_s1_or_s2();
  DEF_systolic_array_3_1_RDY_set_c____d139 = INST_systolic_array_3_1.METH_RDY_set_c();
  DEF_systolic_array_3_1_RDY_set_a____d180 = INST_systolic_array_3_1.METH_RDY_set_a();
  DEF_systolic_array_3_0_RDY_set_s1_or_s2____d142 = INST_systolic_array_3_0.METH_RDY_set_s1_or_s2();
  DEF_systolic_array_3_0_RDY_set_c____d138 = INST_systolic_array_3_0.METH_RDY_set_c();
  DEF_systolic_array_2_3_RDY_set_s1_or_s2____d106 = INST_systolic_array_2_3.METH_RDY_set_s1_or_s2();
  DEF_systolic_array_2_3_RDY_set_c____d102 = INST_systolic_array_2_3.METH_RDY_set_c();
  DEF_systolic_array_2_3_RDY_set_a____d217 = INST_systolic_array_2_3.METH_RDY_set_a();
  DEF_systolic_array_2_2_RDY_set_s1_or_s2____d105 = INST_systolic_array_2_2.METH_RDY_set_s1_or_s2();
  DEF_systolic_array_2_2_RDY_set_a____d198 = INST_systolic_array_2_2.METH_RDY_set_a();
  DEF_systolic_array_2_2_RDY_set_c____d101 = INST_systolic_array_2_2.METH_RDY_set_c();
  DEF_systolic_array_2_1_RDY_set_s1_or_s2____d104 = INST_systolic_array_2_1.METH_RDY_set_s1_or_s2();
  DEF_systolic_array_2_1_RDY_set_c____d100 = INST_systolic_array_2_1.METH_RDY_set_c();
  DEF_systolic_array_2_1_RDY_set_a____d179 = INST_systolic_array_2_1.METH_RDY_set_a();
  DEF_systolic_array_2_0_RDY_set_s1_or_s2____d103 = INST_systolic_array_2_0.METH_RDY_set_s1_or_s2();
  DEF_systolic_array_2_0_RDY_set_c____d99 = INST_systolic_array_2_0.METH_RDY_set_c();
  DEF_systolic_array_1_3_RDY_set_s1_or_s2____d67 = INST_systolic_array_1_3.METH_RDY_set_s1_or_s2();
  DEF_systolic_array_1_3_RDY_set_c____d63 = INST_systolic_array_1_3.METH_RDY_set_c();
  DEF_systolic_array_1_3_RDY_set_a____d216 = INST_systolic_array_1_3.METH_RDY_set_a();
  DEF_systolic_array_1_2_RDY_set_s1_or_s2____d66 = INST_systolic_array_1_2.METH_RDY_set_s1_or_s2();
  DEF_systolic_array_1_2_RDY_set_c____d62 = INST_systolic_array_1_2.METH_RDY_set_c();
  DEF_systolic_array_1_2_RDY_set_a____d197 = INST_systolic_array_1_2.METH_RDY_set_a();
  DEF_systolic_array_1_1_RDY_set_s1_or_s2____d65 = INST_systolic_array_1_1.METH_RDY_set_s1_or_s2();
  DEF_systolic_array_1_1_RDY_set_c____d61 = INST_systolic_array_1_1.METH_RDY_set_c();
  DEF_systolic_array_1_1_RDY_set_a____d178 = INST_systolic_array_1_1.METH_RDY_set_a();
  DEF_systolic_array_1_0_RDY_set_s1_or_s2____d64 = INST_systolic_array_1_0.METH_RDY_set_s1_or_s2();
  DEF_systolic_array_1_0_RDY_set_c____d60 = INST_systolic_array_1_0.METH_RDY_set_c();
  DEF_systolic_array_0_3_RDY_set_s1_or_s2____d263 = INST_systolic_array_0_3.METH_RDY_set_s1_or_s2();
  DEF_systolic_array_0_3_RDY_set_c____d257 = INST_systolic_array_0_3.METH_RDY_set_c();
  DEF_systolic_array_0_3_RDY_set_a____d215 = INST_systolic_array_0_3.METH_RDY_set_a();
  DEF_systolic_array_0_2_RDY_set_s1_or_s2____d262 = INST_systolic_array_0_2.METH_RDY_set_s1_or_s2();
  DEF_systolic_array_0_2_RDY_set_c____d256 = INST_systolic_array_0_2.METH_RDY_set_c();
  DEF_systolic_array_0_1_RDY_set_s1_or_s2____d261 = INST_systolic_array_0_1.METH_RDY_set_s1_or_s2();
  DEF_systolic_array_0_2_RDY_set_a____d196 = INST_systolic_array_0_2.METH_RDY_set_a();
  DEF_systolic_array_0_1_RDY_set_c____d255 = INST_systolic_array_0_1.METH_RDY_set_c();
  DEF_CAN_FIRE_initialise_systolic = DEF_systolic_array_0_1_RDY_set_a____d177 && (DEF_systolic_array_0_2_RDY_set_a____d196 && (DEF_systolic_array_0_3_RDY_set_a____d215 && (DEF_systolic_array_1_1_RDY_set_a____d178 && (DEF_systolic_array_1_2_RDY_set_a____d197 && (DEF_systolic_array_1_3_RDY_set_a____d216 && (DEF_systolic_array_2_1_RDY_set_a____d179 && (DEF_systolic_array_2_2_RDY_set_a____d198 && (DEF_systolic_array_2_3_RDY_set_a____d217 && (DEF_systolic_array_3_1_RDY_set_a____d180 && (DEF_systolic_array_3_2_RDY_set_a____d199 && (DEF_systolic_array_3_3_RDY_set_a____d218 && (DEF_systolic_array_0_0_RDY_set_c____d254 && (DEF_systolic_array_0_1_RDY_set_c____d255 && (DEF_systolic_array_0_2_RDY_set_c____d256 && (DEF_systolic_array_0_3_RDY_set_c____d257 && (DEF_systolic_array_1_0_RDY_set_c____d60 && (DEF_systolic_array_1_1_RDY_set_c____d61 && (DEF_systolic_array_1_2_RDY_set_c____d62 && (DEF_systolic_array_1_3_RDY_set_c____d63 && (DEF_systolic_array_2_0_RDY_set_c____d99 && (DEF_systolic_array_2_1_RDY_set_c____d100 && (DEF_systolic_array_2_2_RDY_set_c____d101 && (DEF_systolic_array_2_3_RDY_set_c____d102 && (DEF_systolic_array_3_0_RDY_set_c____d138 && (DEF_systolic_array_3_1_RDY_set_c____d139 && (DEF_systolic_array_3_2_RDY_set_c____d140 && (DEF_systolic_array_3_3_RDY_set_c____d141 && (DEF_systolic_array_0_0_RDY_set_s1_or_s2____d260 && (DEF_systolic_array_0_1_RDY_set_s1_or_s2____d261 && (DEF_systolic_array_0_2_RDY_set_s1_or_s2____d262 && (DEF_systolic_array_0_3_RDY_set_s1_or_s2____d263 && (DEF_systolic_array_1_0_RDY_set_s1_or_s2____d64 && (DEF_systolic_array_1_1_RDY_set_s1_or_s2____d65 && (DEF_systolic_array_1_2_RDY_set_s1_or_s2____d66 && (DEF_systolic_array_1_3_RDY_set_s1_or_s2____d67 && (DEF_systolic_array_2_0_RDY_set_s1_or_s2____d103 && (DEF_systolic_array_2_1_RDY_set_s1_or_s2____d104 && (DEF_systolic_array_2_2_RDY_set_s1_or_s2____d105 && (DEF_systolic_array_2_3_RDY_set_s1_or_s2____d106 && (DEF_systolic_array_3_0_RDY_set_s1_or_s2____d142 && (DEF_systolic_array_3_1_RDY_set_s1_or_s2____d143 && (DEF_systolic_array_3_2_RDY_set_s1_or_s2____d144 && DEF_systolic_array_3_3_RDY_set_s1_or_s2____d145))))))))))))))))))))))))))))))))))))))))));
  PORT_RDY_initialise_systolic = DEF_CAN_FIRE_initialise_systolic;
  return PORT_RDY_initialise_systolic;
}

void MOD_mkSystolic::METH_set_state_systolic(tUInt8 ARG_set_state_systolic_state_in)
{
  INST_systolic_array_0_0.METH_set_state(ARG_set_state_systolic_state_in);
  INST_systolic_array_0_1.METH_set_state(ARG_set_state_systolic_state_in);
  INST_systolic_array_0_2.METH_set_state(ARG_set_state_systolic_state_in);
  INST_systolic_array_0_3.METH_set_state(ARG_set_state_systolic_state_in);
  INST_systolic_array_1_0.METH_set_state(ARG_set_state_systolic_state_in);
  INST_systolic_array_1_1.METH_set_state(ARG_set_state_systolic_state_in);
  INST_systolic_array_1_2.METH_set_state(ARG_set_state_systolic_state_in);
  INST_systolic_array_1_3.METH_set_state(ARG_set_state_systolic_state_in);
  INST_systolic_array_2_0.METH_set_state(ARG_set_state_systolic_state_in);
  INST_systolic_array_2_1.METH_set_state(ARG_set_state_systolic_state_in);
  INST_systolic_array_2_2.METH_set_state(ARG_set_state_systolic_state_in);
  INST_systolic_array_2_3.METH_set_state(ARG_set_state_systolic_state_in);
  INST_systolic_array_3_0.METH_set_state(ARG_set_state_systolic_state_in);
  INST_systolic_array_3_1.METH_set_state(ARG_set_state_systolic_state_in);
  INST_systolic_array_3_2.METH_set_state(ARG_set_state_systolic_state_in);
  INST_systolic_array_3_3.METH_set_state(ARG_set_state_systolic_state_in);
}

tUInt8 MOD_mkSystolic::METH_RDY_set_state_systolic()
{
  tUInt8 DEF_CAN_FIRE_set_state_systolic;
  tUInt8 PORT_RDY_set_state_systolic;
  DEF_CAN_FIRE_set_state_systolic = (tUInt8)1u;
  PORT_RDY_set_state_systolic = DEF_CAN_FIRE_set_state_systolic;
  return PORT_RDY_set_state_systolic;
}

tUWide MOD_mkSystolic::METH_get_result()
{
  tUInt64 DEF_systolic_array_3_3_get_result__08_CONCAT_systo_ETC___d310;
  tUInt32 DEF_systolic_array_3_0_get_result____d312;
  tUInt32 DEF_systolic_array_3_1_get_result____d311;
  DEF_systolic_array_3_1_get_result____d311 = INST_systolic_array_3_1.METH_get_result();
  DEF_systolic_array_3_0_get_result____d312 = INST_systolic_array_3_0.METH_get_result();
  DEF_systolic_array_3_3_get_result__08_CONCAT_systo_ETC___d310 = (((tUInt64)(INST_systolic_array_3_3.METH_get_result())) << 32u) | (tUInt64)(INST_systolic_array_3_2.METH_get_result());
  PORT_get_result.set_whole_word((tUInt32)(DEF_systolic_array_3_3_get_result__08_CONCAT_systo_ETC___d310 >> 32u),
				 3u).build_concat(bs_wide_tmp(96u).set_whole_word((tUInt32)(DEF_systolic_array_3_3_get_result__08_CONCAT_systo_ETC___d310),
										  2u).set_whole_word(DEF_systolic_array_3_1_get_result____d311,
												     1u).set_whole_word(DEF_systolic_array_3_0_get_result____d312,
															0u),
						  0u,
						  96u);
  return PORT_get_result;
}

tUInt8 MOD_mkSystolic::METH_RDY_get_result()
{
  tUInt8 DEF_CAN_FIRE_get_result;
  tUInt8 PORT_RDY_get_result;
  DEF_CAN_FIRE_get_result = INST_systolic_array_3_0.METH_RDY_get_result() && (INST_systolic_array_3_1.METH_RDY_get_result() && (INST_systolic_array_3_2.METH_RDY_get_result() && INST_systolic_array_3_3.METH_RDY_get_result()));
  PORT_RDY_get_result = DEF_CAN_FIRE_get_result;
  return PORT_RDY_get_result;
}


/* Reset routines */

void MOD_mkSystolic::reset_RST_N(tUInt8 ARG_rst_in)
{
  PORT_RST_N = ARG_rst_in;
  INST_systolic_array_3_3.reset_RST_N(ARG_rst_in);
  INST_systolic_array_3_2.reset_RST_N(ARG_rst_in);
  INST_systolic_array_3_1.reset_RST_N(ARG_rst_in);
  INST_systolic_array_3_0.reset_RST_N(ARG_rst_in);
  INST_systolic_array_2_3.reset_RST_N(ARG_rst_in);
  INST_systolic_array_2_2.reset_RST_N(ARG_rst_in);
  INST_systolic_array_2_1.reset_RST_N(ARG_rst_in);
  INST_systolic_array_2_0.reset_RST_N(ARG_rst_in);
  INST_systolic_array_1_3.reset_RST_N(ARG_rst_in);
  INST_systolic_array_1_2.reset_RST_N(ARG_rst_in);
  INST_systolic_array_1_1.reset_RST_N(ARG_rst_in);
  INST_systolic_array_1_0.reset_RST_N(ARG_rst_in);
  INST_systolic_array_0_3.reset_RST_N(ARG_rst_in);
  INST_systolic_array_0_2.reset_RST_N(ARG_rst_in);
  INST_systolic_array_0_1.reset_RST_N(ARG_rst_in);
  INST_systolic_array_0_0.reset_RST_N(ARG_rst_in);
  INST_counter.reset_RST(ARG_rst_in);
}


/* Static handles to reset routines */


/* Functions for the parent module to register its reset fns */


/* Functions to set the elaborated clock id */

void MOD_mkSystolic::set_clk_0(char const *s)
{
  __clk_handle_0 = bk_get_or_define_clock(sim_hdl, s);
}


/* State dumping routine */
void MOD_mkSystolic::dump_state(unsigned int indent)
{
  printf("%*s%s:\n", indent, "", inst_name);
  INST_counter.dump_state(indent + 2u);
  INST_systolic_array_0_0.dump_state(indent + 2u);
  INST_systolic_array_0_1.dump_state(indent + 2u);
  INST_systolic_array_0_2.dump_state(indent + 2u);
  INST_systolic_array_0_3.dump_state(indent + 2u);
  INST_systolic_array_1_0.dump_state(indent + 2u);
  INST_systolic_array_1_1.dump_state(indent + 2u);
  INST_systolic_array_1_2.dump_state(indent + 2u);
  INST_systolic_array_1_3.dump_state(indent + 2u);
  INST_systolic_array_2_0.dump_state(indent + 2u);
  INST_systolic_array_2_1.dump_state(indent + 2u);
  INST_systolic_array_2_2.dump_state(indent + 2u);
  INST_systolic_array_2_3.dump_state(indent + 2u);
  INST_systolic_array_3_0.dump_state(indent + 2u);
  INST_systolic_array_3_1.dump_state(indent + 2u);
  INST_systolic_array_3_2.dump_state(indent + 2u);
  INST_systolic_array_3_3.dump_state(indent + 2u);
}


/* VCD dumping routines */

unsigned int MOD_mkSystolic::dump_VCD_defs(unsigned int levels)
{
  vcd_write_scope_start(sim_hdl, inst_name);
  vcd_num = vcd_reserve_ids(sim_hdl, 49u);
  unsigned int num = vcd_num;
  for (unsigned int clk = 0u; clk < bk_num_clocks(sim_hdl); ++clk)
    vcd_add_clock_def(sim_hdl, this, bk_clock_name(sim_hdl, clk), bk_clock_vcd_num(sim_hdl, clk));
  vcd_write_def(sim_hdl, bk_clock_vcd_num(sim_hdl, __clk_handle_0), "CLK", 1u);
  vcd_write_def(sim_hdl, num++, "RST_N", 1u);
  vcd_set_clock(sim_hdl, num, __clk_handle_0);
  vcd_write_def(sim_hdl, num++, "WILL_FIRE_initialise_systolic", 1u);
  vcd_set_clock(sim_hdl, num, __clk_handle_0);
  vcd_write_def(sim_hdl, num++, "systolic_array_0_0_RDY_set_c____d254", 1u);
  vcd_set_clock(sim_hdl, num, __clk_handle_0);
  vcd_write_def(sim_hdl, num++, "systolic_array_0_0_RDY_set_s1_or_s2____d260", 1u);
  vcd_set_clock(sim_hdl, num, __clk_handle_0);
  vcd_write_def(sim_hdl, num++, "systolic_array_0_1_RDY_set_a____d177", 1u);
  vcd_set_clock(sim_hdl, num, __clk_handle_0);
  vcd_write_def(sim_hdl, num++, "systolic_array_0_1_RDY_set_c____d255", 1u);
  vcd_set_clock(sim_hdl, num, __clk_handle_0);
  vcd_write_def(sim_hdl, num++, "systolic_array_0_1_RDY_set_s1_or_s2____d261", 1u);
  vcd_set_clock(sim_hdl, num, __clk_handle_0);
  vcd_write_def(sim_hdl, num++, "systolic_array_0_2_RDY_set_a____d196", 1u);
  vcd_set_clock(sim_hdl, num, __clk_handle_0);
  vcd_write_def(sim_hdl, num++, "systolic_array_0_2_RDY_set_c____d256", 1u);
  vcd_set_clock(sim_hdl, num, __clk_handle_0);
  vcd_write_def(sim_hdl, num++, "systolic_array_0_2_RDY_set_s1_or_s2____d262", 1u);
  vcd_set_clock(sim_hdl, num, __clk_handle_0);
  vcd_write_def(sim_hdl, num++, "systolic_array_0_3_RDY_set_a____d215", 1u);
  vcd_set_clock(sim_hdl, num, __clk_handle_0);
  vcd_write_def(sim_hdl, num++, "systolic_array_0_3_RDY_set_c____d257", 1u);
  vcd_set_clock(sim_hdl, num, __clk_handle_0);
  vcd_write_def(sim_hdl, num++, "systolic_array_0_3_RDY_set_s1_or_s2____d263", 1u);
  vcd_set_clock(sim_hdl, num, __clk_handle_0);
  vcd_write_def(sim_hdl, num++, "systolic_array_1_0_RDY_set_c____d60", 1u);
  vcd_set_clock(sim_hdl, num, __clk_handle_0);
  vcd_write_def(sim_hdl, num++, "systolic_array_1_0_RDY_set_s1_or_s2____d64", 1u);
  vcd_set_clock(sim_hdl, num, __clk_handle_0);
  vcd_write_def(sim_hdl, num++, "systolic_array_1_1_RDY_set_a____d178", 1u);
  vcd_set_clock(sim_hdl, num, __clk_handle_0);
  vcd_write_def(sim_hdl, num++, "systolic_array_1_1_RDY_set_c____d61", 1u);
  vcd_set_clock(sim_hdl, num, __clk_handle_0);
  vcd_write_def(sim_hdl, num++, "systolic_array_1_1_RDY_set_s1_or_s2____d65", 1u);
  vcd_set_clock(sim_hdl, num, __clk_handle_0);
  vcd_write_def(sim_hdl, num++, "systolic_array_1_2_RDY_set_a____d197", 1u);
  vcd_set_clock(sim_hdl, num, __clk_handle_0);
  vcd_write_def(sim_hdl, num++, "systolic_array_1_2_RDY_set_c____d62", 1u);
  vcd_set_clock(sim_hdl, num, __clk_handle_0);
  vcd_write_def(sim_hdl, num++, "systolic_array_1_2_RDY_set_s1_or_s2____d66", 1u);
  vcd_set_clock(sim_hdl, num, __clk_handle_0);
  vcd_write_def(sim_hdl, num++, "systolic_array_1_3_RDY_set_a____d216", 1u);
  vcd_set_clock(sim_hdl, num, __clk_handle_0);
  vcd_write_def(sim_hdl, num++, "systolic_array_1_3_RDY_set_c____d63", 1u);
  vcd_set_clock(sim_hdl, num, __clk_handle_0);
  vcd_write_def(sim_hdl, num++, "systolic_array_1_3_RDY_set_s1_or_s2____d67", 1u);
  vcd_set_clock(sim_hdl, num, __clk_handle_0);
  vcd_write_def(sim_hdl, num++, "systolic_array_2_0_RDY_set_c____d99", 1u);
  vcd_set_clock(sim_hdl, num, __clk_handle_0);
  vcd_write_def(sim_hdl, num++, "systolic_array_2_0_RDY_set_s1_or_s2____d103", 1u);
  vcd_set_clock(sim_hdl, num, __clk_handle_0);
  vcd_write_def(sim_hdl, num++, "systolic_array_2_1_RDY_set_a____d179", 1u);
  vcd_set_clock(sim_hdl, num, __clk_handle_0);
  vcd_write_def(sim_hdl, num++, "systolic_array_2_1_RDY_set_c____d100", 1u);
  vcd_set_clock(sim_hdl, num, __clk_handle_0);
  vcd_write_def(sim_hdl, num++, "systolic_array_2_1_RDY_set_s1_or_s2____d104", 1u);
  vcd_set_clock(sim_hdl, num, __clk_handle_0);
  vcd_write_def(sim_hdl, num++, "systolic_array_2_2_RDY_set_a____d198", 1u);
  vcd_set_clock(sim_hdl, num, __clk_handle_0);
  vcd_write_def(sim_hdl, num++, "systolic_array_2_2_RDY_set_c____d101", 1u);
  vcd_set_clock(sim_hdl, num, __clk_handle_0);
  vcd_write_def(sim_hdl, num++, "systolic_array_2_2_RDY_set_s1_or_s2____d105", 1u);
  vcd_set_clock(sim_hdl, num, __clk_handle_0);
  vcd_write_def(sim_hdl, num++, "systolic_array_2_3_RDY_set_a____d217", 1u);
  vcd_set_clock(sim_hdl, num, __clk_handle_0);
  vcd_write_def(sim_hdl, num++, "systolic_array_2_3_RDY_set_c____d102", 1u);
  vcd_set_clock(sim_hdl, num, __clk_handle_0);
  vcd_write_def(sim_hdl, num++, "systolic_array_2_3_RDY_set_s1_or_s2____d106", 1u);
  vcd_set_clock(sim_hdl, num, __clk_handle_0);
  vcd_write_def(sim_hdl, num++, "systolic_array_3_0_RDY_set_c____d138", 1u);
  vcd_set_clock(sim_hdl, num, __clk_handle_0);
  vcd_write_def(sim_hdl, num++, "systolic_array_3_0_RDY_set_s1_or_s2____d142", 1u);
  vcd_set_clock(sim_hdl, num, __clk_handle_0);
  vcd_write_def(sim_hdl, num++, "systolic_array_3_1_RDY_set_a____d180", 1u);
  vcd_set_clock(sim_hdl, num, __clk_handle_0);
  vcd_write_def(sim_hdl, num++, "systolic_array_3_1_RDY_set_c____d139", 1u);
  vcd_set_clock(sim_hdl, num, __clk_handle_0);
  vcd_write_def(sim_hdl, num++, "systolic_array_3_1_RDY_set_s1_or_s2____d143", 1u);
  vcd_set_clock(sim_hdl, num, __clk_handle_0);
  vcd_write_def(sim_hdl, num++, "systolic_array_3_2_RDY_set_a____d199", 1u);
  vcd_set_clock(sim_hdl, num, __clk_handle_0);
  vcd_write_def(sim_hdl, num++, "systolic_array_3_2_RDY_set_c____d140", 1u);
  vcd_set_clock(sim_hdl, num, __clk_handle_0);
  vcd_write_def(sim_hdl, num++, "systolic_array_3_2_RDY_set_s1_or_s2____d144", 1u);
  vcd_set_clock(sim_hdl, num, __clk_handle_0);
  vcd_write_def(sim_hdl, num++, "systolic_array_3_3_RDY_set_a____d218", 1u);
  vcd_set_clock(sim_hdl, num, __clk_handle_0);
  vcd_write_def(sim_hdl, num++, "systolic_array_3_3_RDY_set_c____d141", 1u);
  vcd_set_clock(sim_hdl, num, __clk_handle_0);
  vcd_write_def(sim_hdl, num++, "systolic_array_3_3_RDY_set_s1_or_s2____d145", 1u);
  vcd_set_clock(sim_hdl, num, __clk_handle_0);
  vcd_write_def(sim_hdl, num++, "EN_initialise_systolic", 1u);
  vcd_set_clock(sim_hdl, num, __clk_handle_0);
  vcd_write_def(sim_hdl, num++, "get_result", 128u);
  num = INST_counter.dump_VCD_defs(num);
  if (levels != 1u)
  {
    unsigned int l = levels == 0u ? 0u : levels - 1u;
    num = INST_systolic_array_0_0.dump_VCD_defs(l);
    num = INST_systolic_array_0_1.dump_VCD_defs(l);
    num = INST_systolic_array_0_2.dump_VCD_defs(l);
    num = INST_systolic_array_0_3.dump_VCD_defs(l);
    num = INST_systolic_array_1_0.dump_VCD_defs(l);
    num = INST_systolic_array_1_1.dump_VCD_defs(l);
    num = INST_systolic_array_1_2.dump_VCD_defs(l);
    num = INST_systolic_array_1_3.dump_VCD_defs(l);
    num = INST_systolic_array_2_0.dump_VCD_defs(l);
    num = INST_systolic_array_2_1.dump_VCD_defs(l);
    num = INST_systolic_array_2_2.dump_VCD_defs(l);
    num = INST_systolic_array_2_3.dump_VCD_defs(l);
    num = INST_systolic_array_3_0.dump_VCD_defs(l);
    num = INST_systolic_array_3_1.dump_VCD_defs(l);
    num = INST_systolic_array_3_2.dump_VCD_defs(l);
    num = INST_systolic_array_3_3.dump_VCD_defs(l);
  }
  vcd_write_scope_end(sim_hdl);
  return num;
}

void MOD_mkSystolic::dump_VCD(tVCDDumpType dt, unsigned int levels, MOD_mkSystolic &backing)
{
  vcd_defs(dt, backing);
  vcd_prims(dt, backing);
  if (levels != 1u)
    vcd_submodules(dt, levels - 1u, backing);
}

void MOD_mkSystolic::vcd_defs(tVCDDumpType dt, MOD_mkSystolic &backing)
{
  unsigned int num = vcd_num;
  if (dt == VCD_DUMP_XS)
  {
    vcd_write_x(sim_hdl, num++, 1u);
    vcd_write_x(sim_hdl, num++, 1u);
    vcd_write_x(sim_hdl, num++, 1u);
    vcd_write_x(sim_hdl, num++, 1u);
    vcd_write_x(sim_hdl, num++, 1u);
    vcd_write_x(sim_hdl, num++, 1u);
    vcd_write_x(sim_hdl, num++, 1u);
    vcd_write_x(sim_hdl, num++, 1u);
    vcd_write_x(sim_hdl, num++, 1u);
    vcd_write_x(sim_hdl, num++, 1u);
    vcd_write_x(sim_hdl, num++, 1u);
    vcd_write_x(sim_hdl, num++, 1u);
    vcd_write_x(sim_hdl, num++, 1u);
    vcd_write_x(sim_hdl, num++, 1u);
    vcd_write_x(sim_hdl, num++, 1u);
    vcd_write_x(sim_hdl, num++, 1u);
    vcd_write_x(sim_hdl, num++, 1u);
    vcd_write_x(sim_hdl, num++, 1u);
    vcd_write_x(sim_hdl, num++, 1u);
    vcd_write_x(sim_hdl, num++, 1u);
    vcd_write_x(sim_hdl, num++, 1u);
    vcd_write_x(sim_hdl, num++, 1u);
    vcd_write_x(sim_hdl, num++, 1u);
    vcd_write_x(sim_hdl, num++, 1u);
    vcd_write_x(sim_hdl, num++, 1u);
    vcd_write_x(sim_hdl, num++, 1u);
    vcd_write_x(sim_hdl, num++, 1u);
    vcd_write_x(sim_hdl, num++, 1u);
    vcd_write_x(sim_hdl, num++, 1u);
    vcd_write_x(sim_hdl, num++, 1u);
    vcd_write_x(sim_hdl, num++, 1u);
    vcd_write_x(sim_hdl, num++, 1u);
    vcd_write_x(sim_hdl, num++, 1u);
    vcd_write_x(sim_hdl, num++, 1u);
    vcd_write_x(sim_hdl, num++, 1u);
    vcd_write_x(sim_hdl, num++, 1u);
    vcd_write_x(sim_hdl, num++, 1u);
    vcd_write_x(sim_hdl, num++, 1u);
    vcd_write_x(sim_hdl, num++, 1u);
    vcd_write_x(sim_hdl, num++, 1u);
    vcd_write_x(sim_hdl, num++, 1u);
    vcd_write_x(sim_hdl, num++, 1u);
    vcd_write_x(sim_hdl, num++, 1u);
    vcd_write_x(sim_hdl, num++, 1u);
    vcd_write_x(sim_hdl, num++, 1u);
    vcd_write_x(sim_hdl, num++, 1u);
    vcd_write_x(sim_hdl, num++, 1u);
    vcd_write_x(sim_hdl, num++, 128u);
  }
  else
    if (dt == VCD_DUMP_CHANGES)
    {
      if ((backing.PORT_RST_N) != PORT_RST_N)
      {
	vcd_write_val(sim_hdl, num, PORT_RST_N, 1u);
	backing.PORT_RST_N = PORT_RST_N;
      }
      ++num;
      if ((backing.DEF_WILL_FIRE_initialise_systolic) != DEF_WILL_FIRE_initialise_systolic)
      {
	vcd_write_val(sim_hdl, num, DEF_WILL_FIRE_initialise_systolic, 1u);
	backing.DEF_WILL_FIRE_initialise_systolic = DEF_WILL_FIRE_initialise_systolic;
      }
      ++num;
      if ((backing.DEF_systolic_array_0_0_RDY_set_c____d254) != DEF_systolic_array_0_0_RDY_set_c____d254)
      {
	vcd_write_val(sim_hdl, num, DEF_systolic_array_0_0_RDY_set_c____d254, 1u);
	backing.DEF_systolic_array_0_0_RDY_set_c____d254 = DEF_systolic_array_0_0_RDY_set_c____d254;
      }
      ++num;
      if ((backing.DEF_systolic_array_0_0_RDY_set_s1_or_s2____d260) != DEF_systolic_array_0_0_RDY_set_s1_or_s2____d260)
      {
	vcd_write_val(sim_hdl, num, DEF_systolic_array_0_0_RDY_set_s1_or_s2____d260, 1u);
	backing.DEF_systolic_array_0_0_RDY_set_s1_or_s2____d260 = DEF_systolic_array_0_0_RDY_set_s1_or_s2____d260;
      }
      ++num;
      if ((backing.DEF_systolic_array_0_1_RDY_set_a____d177) != DEF_systolic_array_0_1_RDY_set_a____d177)
      {
	vcd_write_val(sim_hdl, num, DEF_systolic_array_0_1_RDY_set_a____d177, 1u);
	backing.DEF_systolic_array_0_1_RDY_set_a____d177 = DEF_systolic_array_0_1_RDY_set_a____d177;
      }
      ++num;
      if ((backing.DEF_systolic_array_0_1_RDY_set_c____d255) != DEF_systolic_array_0_1_RDY_set_c____d255)
      {
	vcd_write_val(sim_hdl, num, DEF_systolic_array_0_1_RDY_set_c____d255, 1u);
	backing.DEF_systolic_array_0_1_RDY_set_c____d255 = DEF_systolic_array_0_1_RDY_set_c____d255;
      }
      ++num;
      if ((backing.DEF_systolic_array_0_1_RDY_set_s1_or_s2____d261) != DEF_systolic_array_0_1_RDY_set_s1_or_s2____d261)
      {
	vcd_write_val(sim_hdl, num, DEF_systolic_array_0_1_RDY_set_s1_or_s2____d261, 1u);
	backing.DEF_systolic_array_0_1_RDY_set_s1_or_s2____d261 = DEF_systolic_array_0_1_RDY_set_s1_or_s2____d261;
      }
      ++num;
      if ((backing.DEF_systolic_array_0_2_RDY_set_a____d196) != DEF_systolic_array_0_2_RDY_set_a____d196)
      {
	vcd_write_val(sim_hdl, num, DEF_systolic_array_0_2_RDY_set_a____d196, 1u);
	backing.DEF_systolic_array_0_2_RDY_set_a____d196 = DEF_systolic_array_0_2_RDY_set_a____d196;
      }
      ++num;
      if ((backing.DEF_systolic_array_0_2_RDY_set_c____d256) != DEF_systolic_array_0_2_RDY_set_c____d256)
      {
	vcd_write_val(sim_hdl, num, DEF_systolic_array_0_2_RDY_set_c____d256, 1u);
	backing.DEF_systolic_array_0_2_RDY_set_c____d256 = DEF_systolic_array_0_2_RDY_set_c____d256;
      }
      ++num;
      if ((backing.DEF_systolic_array_0_2_RDY_set_s1_or_s2____d262) != DEF_systolic_array_0_2_RDY_set_s1_or_s2____d262)
      {
	vcd_write_val(sim_hdl, num, DEF_systolic_array_0_2_RDY_set_s1_or_s2____d262, 1u);
	backing.DEF_systolic_array_0_2_RDY_set_s1_or_s2____d262 = DEF_systolic_array_0_2_RDY_set_s1_or_s2____d262;
      }
      ++num;
      if ((backing.DEF_systolic_array_0_3_RDY_set_a____d215) != DEF_systolic_array_0_3_RDY_set_a____d215)
      {
	vcd_write_val(sim_hdl, num, DEF_systolic_array_0_3_RDY_set_a____d215, 1u);
	backing.DEF_systolic_array_0_3_RDY_set_a____d215 = DEF_systolic_array_0_3_RDY_set_a____d215;
      }
      ++num;
      if ((backing.DEF_systolic_array_0_3_RDY_set_c____d257) != DEF_systolic_array_0_3_RDY_set_c____d257)
      {
	vcd_write_val(sim_hdl, num, DEF_systolic_array_0_3_RDY_set_c____d257, 1u);
	backing.DEF_systolic_array_0_3_RDY_set_c____d257 = DEF_systolic_array_0_3_RDY_set_c____d257;
      }
      ++num;
      if ((backing.DEF_systolic_array_0_3_RDY_set_s1_or_s2____d263) != DEF_systolic_array_0_3_RDY_set_s1_or_s2____d263)
      {
	vcd_write_val(sim_hdl, num, DEF_systolic_array_0_3_RDY_set_s1_or_s2____d263, 1u);
	backing.DEF_systolic_array_0_3_RDY_set_s1_or_s2____d263 = DEF_systolic_array_0_3_RDY_set_s1_or_s2____d263;
      }
      ++num;
      if ((backing.DEF_systolic_array_1_0_RDY_set_c____d60) != DEF_systolic_array_1_0_RDY_set_c____d60)
      {
	vcd_write_val(sim_hdl, num, DEF_systolic_array_1_0_RDY_set_c____d60, 1u);
	backing.DEF_systolic_array_1_0_RDY_set_c____d60 = DEF_systolic_array_1_0_RDY_set_c____d60;
      }
      ++num;
      if ((backing.DEF_systolic_array_1_0_RDY_set_s1_or_s2____d64) != DEF_systolic_array_1_0_RDY_set_s1_or_s2____d64)
      {
	vcd_write_val(sim_hdl, num, DEF_systolic_array_1_0_RDY_set_s1_or_s2____d64, 1u);
	backing.DEF_systolic_array_1_0_RDY_set_s1_or_s2____d64 = DEF_systolic_array_1_0_RDY_set_s1_or_s2____d64;
      }
      ++num;
      if ((backing.DEF_systolic_array_1_1_RDY_set_a____d178) != DEF_systolic_array_1_1_RDY_set_a____d178)
      {
	vcd_write_val(sim_hdl, num, DEF_systolic_array_1_1_RDY_set_a____d178, 1u);
	backing.DEF_systolic_array_1_1_RDY_set_a____d178 = DEF_systolic_array_1_1_RDY_set_a____d178;
      }
      ++num;
      if ((backing.DEF_systolic_array_1_1_RDY_set_c____d61) != DEF_systolic_array_1_1_RDY_set_c____d61)
      {
	vcd_write_val(sim_hdl, num, DEF_systolic_array_1_1_RDY_set_c____d61, 1u);
	backing.DEF_systolic_array_1_1_RDY_set_c____d61 = DEF_systolic_array_1_1_RDY_set_c____d61;
      }
      ++num;
      if ((backing.DEF_systolic_array_1_1_RDY_set_s1_or_s2____d65) != DEF_systolic_array_1_1_RDY_set_s1_or_s2____d65)
      {
	vcd_write_val(sim_hdl, num, DEF_systolic_array_1_1_RDY_set_s1_or_s2____d65, 1u);
	backing.DEF_systolic_array_1_1_RDY_set_s1_or_s2____d65 = DEF_systolic_array_1_1_RDY_set_s1_or_s2____d65;
      }
      ++num;
      if ((backing.DEF_systolic_array_1_2_RDY_set_a____d197) != DEF_systolic_array_1_2_RDY_set_a____d197)
      {
	vcd_write_val(sim_hdl, num, DEF_systolic_array_1_2_RDY_set_a____d197, 1u);
	backing.DEF_systolic_array_1_2_RDY_set_a____d197 = DEF_systolic_array_1_2_RDY_set_a____d197;
      }
      ++num;
      if ((backing.DEF_systolic_array_1_2_RDY_set_c____d62) != DEF_systolic_array_1_2_RDY_set_c____d62)
      {
	vcd_write_val(sim_hdl, num, DEF_systolic_array_1_2_RDY_set_c____d62, 1u);
	backing.DEF_systolic_array_1_2_RDY_set_c____d62 = DEF_systolic_array_1_2_RDY_set_c____d62;
      }
      ++num;
      if ((backing.DEF_systolic_array_1_2_RDY_set_s1_or_s2____d66) != DEF_systolic_array_1_2_RDY_set_s1_or_s2____d66)
      {
	vcd_write_val(sim_hdl, num, DEF_systolic_array_1_2_RDY_set_s1_or_s2____d66, 1u);
	backing.DEF_systolic_array_1_2_RDY_set_s1_or_s2____d66 = DEF_systolic_array_1_2_RDY_set_s1_or_s2____d66;
      }
      ++num;
      if ((backing.DEF_systolic_array_1_3_RDY_set_a____d216) != DEF_systolic_array_1_3_RDY_set_a____d216)
      {
	vcd_write_val(sim_hdl, num, DEF_systolic_array_1_3_RDY_set_a____d216, 1u);
	backing.DEF_systolic_array_1_3_RDY_set_a____d216 = DEF_systolic_array_1_3_RDY_set_a____d216;
      }
      ++num;
      if ((backing.DEF_systolic_array_1_3_RDY_set_c____d63) != DEF_systolic_array_1_3_RDY_set_c____d63)
      {
	vcd_write_val(sim_hdl, num, DEF_systolic_array_1_3_RDY_set_c____d63, 1u);
	backing.DEF_systolic_array_1_3_RDY_set_c____d63 = DEF_systolic_array_1_3_RDY_set_c____d63;
      }
      ++num;
      if ((backing.DEF_systolic_array_1_3_RDY_set_s1_or_s2____d67) != DEF_systolic_array_1_3_RDY_set_s1_or_s2____d67)
      {
	vcd_write_val(sim_hdl, num, DEF_systolic_array_1_3_RDY_set_s1_or_s2____d67, 1u);
	backing.DEF_systolic_array_1_3_RDY_set_s1_or_s2____d67 = DEF_systolic_array_1_3_RDY_set_s1_or_s2____d67;
      }
      ++num;
      if ((backing.DEF_systolic_array_2_0_RDY_set_c____d99) != DEF_systolic_array_2_0_RDY_set_c____d99)
      {
	vcd_write_val(sim_hdl, num, DEF_systolic_array_2_0_RDY_set_c____d99, 1u);
	backing.DEF_systolic_array_2_0_RDY_set_c____d99 = DEF_systolic_array_2_0_RDY_set_c____d99;
      }
      ++num;
      if ((backing.DEF_systolic_array_2_0_RDY_set_s1_or_s2____d103) != DEF_systolic_array_2_0_RDY_set_s1_or_s2____d103)
      {
	vcd_write_val(sim_hdl, num, DEF_systolic_array_2_0_RDY_set_s1_or_s2____d103, 1u);
	backing.DEF_systolic_array_2_0_RDY_set_s1_or_s2____d103 = DEF_systolic_array_2_0_RDY_set_s1_or_s2____d103;
      }
      ++num;
      if ((backing.DEF_systolic_array_2_1_RDY_set_a____d179) != DEF_systolic_array_2_1_RDY_set_a____d179)
      {
	vcd_write_val(sim_hdl, num, DEF_systolic_array_2_1_RDY_set_a____d179, 1u);
	backing.DEF_systolic_array_2_1_RDY_set_a____d179 = DEF_systolic_array_2_1_RDY_set_a____d179;
      }
      ++num;
      if ((backing.DEF_systolic_array_2_1_RDY_set_c____d100) != DEF_systolic_array_2_1_RDY_set_c____d100)
      {
	vcd_write_val(sim_hdl, num, DEF_systolic_array_2_1_RDY_set_c____d100, 1u);
	backing.DEF_systolic_array_2_1_RDY_set_c____d100 = DEF_systolic_array_2_1_RDY_set_c____d100;
      }
      ++num;
      if ((backing.DEF_systolic_array_2_1_RDY_set_s1_or_s2____d104) != DEF_systolic_array_2_1_RDY_set_s1_or_s2____d104)
      {
	vcd_write_val(sim_hdl, num, DEF_systolic_array_2_1_RDY_set_s1_or_s2____d104, 1u);
	backing.DEF_systolic_array_2_1_RDY_set_s1_or_s2____d104 = DEF_systolic_array_2_1_RDY_set_s1_or_s2____d104;
      }
      ++num;
      if ((backing.DEF_systolic_array_2_2_RDY_set_a____d198) != DEF_systolic_array_2_2_RDY_set_a____d198)
      {
	vcd_write_val(sim_hdl, num, DEF_systolic_array_2_2_RDY_set_a____d198, 1u);
	backing.DEF_systolic_array_2_2_RDY_set_a____d198 = DEF_systolic_array_2_2_RDY_set_a____d198;
      }
      ++num;
      if ((backing.DEF_systolic_array_2_2_RDY_set_c____d101) != DEF_systolic_array_2_2_RDY_set_c____d101)
      {
	vcd_write_val(sim_hdl, num, DEF_systolic_array_2_2_RDY_set_c____d101, 1u);
	backing.DEF_systolic_array_2_2_RDY_set_c____d101 = DEF_systolic_array_2_2_RDY_set_c____d101;
      }
      ++num;
      if ((backing.DEF_systolic_array_2_2_RDY_set_s1_or_s2____d105) != DEF_systolic_array_2_2_RDY_set_s1_or_s2____d105)
      {
	vcd_write_val(sim_hdl, num, DEF_systolic_array_2_2_RDY_set_s1_or_s2____d105, 1u);
	backing.DEF_systolic_array_2_2_RDY_set_s1_or_s2____d105 = DEF_systolic_array_2_2_RDY_set_s1_or_s2____d105;
      }
      ++num;
      if ((backing.DEF_systolic_array_2_3_RDY_set_a____d217) != DEF_systolic_array_2_3_RDY_set_a____d217)
      {
	vcd_write_val(sim_hdl, num, DEF_systolic_array_2_3_RDY_set_a____d217, 1u);
	backing.DEF_systolic_array_2_3_RDY_set_a____d217 = DEF_systolic_array_2_3_RDY_set_a____d217;
      }
      ++num;
      if ((backing.DEF_systolic_array_2_3_RDY_set_c____d102) != DEF_systolic_array_2_3_RDY_set_c____d102)
      {
	vcd_write_val(sim_hdl, num, DEF_systolic_array_2_3_RDY_set_c____d102, 1u);
	backing.DEF_systolic_array_2_3_RDY_set_c____d102 = DEF_systolic_array_2_3_RDY_set_c____d102;
      }
      ++num;
      if ((backing.DEF_systolic_array_2_3_RDY_set_s1_or_s2____d106) != DEF_systolic_array_2_3_RDY_set_s1_or_s2____d106)
      {
	vcd_write_val(sim_hdl, num, DEF_systolic_array_2_3_RDY_set_s1_or_s2____d106, 1u);
	backing.DEF_systolic_array_2_3_RDY_set_s1_or_s2____d106 = DEF_systolic_array_2_3_RDY_set_s1_or_s2____d106;
      }
      ++num;
      if ((backing.DEF_systolic_array_3_0_RDY_set_c____d138) != DEF_systolic_array_3_0_RDY_set_c____d138)
      {
	vcd_write_val(sim_hdl, num, DEF_systolic_array_3_0_RDY_set_c____d138, 1u);
	backing.DEF_systolic_array_3_0_RDY_set_c____d138 = DEF_systolic_array_3_0_RDY_set_c____d138;
      }
      ++num;
      if ((backing.DEF_systolic_array_3_0_RDY_set_s1_or_s2____d142) != DEF_systolic_array_3_0_RDY_set_s1_or_s2____d142)
      {
	vcd_write_val(sim_hdl, num, DEF_systolic_array_3_0_RDY_set_s1_or_s2____d142, 1u);
	backing.DEF_systolic_array_3_0_RDY_set_s1_or_s2____d142 = DEF_systolic_array_3_0_RDY_set_s1_or_s2____d142;
      }
      ++num;
      if ((backing.DEF_systolic_array_3_1_RDY_set_a____d180) != DEF_systolic_array_3_1_RDY_set_a____d180)
      {
	vcd_write_val(sim_hdl, num, DEF_systolic_array_3_1_RDY_set_a____d180, 1u);
	backing.DEF_systolic_array_3_1_RDY_set_a____d180 = DEF_systolic_array_3_1_RDY_set_a____d180;
      }
      ++num;
      if ((backing.DEF_systolic_array_3_1_RDY_set_c____d139) != DEF_systolic_array_3_1_RDY_set_c____d139)
      {
	vcd_write_val(sim_hdl, num, DEF_systolic_array_3_1_RDY_set_c____d139, 1u);
	backing.DEF_systolic_array_3_1_RDY_set_c____d139 = DEF_systolic_array_3_1_RDY_set_c____d139;
      }
      ++num;
      if ((backing.DEF_systolic_array_3_1_RDY_set_s1_or_s2____d143) != DEF_systolic_array_3_1_RDY_set_s1_or_s2____d143)
      {
	vcd_write_val(sim_hdl, num, DEF_systolic_array_3_1_RDY_set_s1_or_s2____d143, 1u);
	backing.DEF_systolic_array_3_1_RDY_set_s1_or_s2____d143 = DEF_systolic_array_3_1_RDY_set_s1_or_s2____d143;
      }
      ++num;
      if ((backing.DEF_systolic_array_3_2_RDY_set_a____d199) != DEF_systolic_array_3_2_RDY_set_a____d199)
      {
	vcd_write_val(sim_hdl, num, DEF_systolic_array_3_2_RDY_set_a____d199, 1u);
	backing.DEF_systolic_array_3_2_RDY_set_a____d199 = DEF_systolic_array_3_2_RDY_set_a____d199;
      }
      ++num;
      if ((backing.DEF_systolic_array_3_2_RDY_set_c____d140) != DEF_systolic_array_3_2_RDY_set_c____d140)
      {
	vcd_write_val(sim_hdl, num, DEF_systolic_array_3_2_RDY_set_c____d140, 1u);
	backing.DEF_systolic_array_3_2_RDY_set_c____d140 = DEF_systolic_array_3_2_RDY_set_c____d140;
      }
      ++num;
      if ((backing.DEF_systolic_array_3_2_RDY_set_s1_or_s2____d144) != DEF_systolic_array_3_2_RDY_set_s1_or_s2____d144)
      {
	vcd_write_val(sim_hdl, num, DEF_systolic_array_3_2_RDY_set_s1_or_s2____d144, 1u);
	backing.DEF_systolic_array_3_2_RDY_set_s1_or_s2____d144 = DEF_systolic_array_3_2_RDY_set_s1_or_s2____d144;
      }
      ++num;
      if ((backing.DEF_systolic_array_3_3_RDY_set_a____d218) != DEF_systolic_array_3_3_RDY_set_a____d218)
      {
	vcd_write_val(sim_hdl, num, DEF_systolic_array_3_3_RDY_set_a____d218, 1u);
	backing.DEF_systolic_array_3_3_RDY_set_a____d218 = DEF_systolic_array_3_3_RDY_set_a____d218;
      }
      ++num;
      if ((backing.DEF_systolic_array_3_3_RDY_set_c____d141) != DEF_systolic_array_3_3_RDY_set_c____d141)
      {
	vcd_write_val(sim_hdl, num, DEF_systolic_array_3_3_RDY_set_c____d141, 1u);
	backing.DEF_systolic_array_3_3_RDY_set_c____d141 = DEF_systolic_array_3_3_RDY_set_c____d141;
      }
      ++num;
      if ((backing.DEF_systolic_array_3_3_RDY_set_s1_or_s2____d145) != DEF_systolic_array_3_3_RDY_set_s1_or_s2____d145)
      {
	vcd_write_val(sim_hdl, num, DEF_systolic_array_3_3_RDY_set_s1_or_s2____d145, 1u);
	backing.DEF_systolic_array_3_3_RDY_set_s1_or_s2____d145 = DEF_systolic_array_3_3_RDY_set_s1_or_s2____d145;
      }
      ++num;
      if ((backing.PORT_EN_initialise_systolic) != PORT_EN_initialise_systolic)
      {
	vcd_write_val(sim_hdl, num, PORT_EN_initialise_systolic, 1u);
	backing.PORT_EN_initialise_systolic = PORT_EN_initialise_systolic;
      }
      ++num;
      if ((backing.PORT_get_result) != PORT_get_result)
      {
	vcd_write_val(sim_hdl, num, PORT_get_result, 128u);
	backing.PORT_get_result = PORT_get_result;
      }
      ++num;
    }
    else
    {
      vcd_write_val(sim_hdl, num++, PORT_RST_N, 1u);
      backing.PORT_RST_N = PORT_RST_N;
      vcd_write_val(sim_hdl, num++, DEF_WILL_FIRE_initialise_systolic, 1u);
      backing.DEF_WILL_FIRE_initialise_systolic = DEF_WILL_FIRE_initialise_systolic;
      vcd_write_val(sim_hdl, num++, DEF_systolic_array_0_0_RDY_set_c____d254, 1u);
      backing.DEF_systolic_array_0_0_RDY_set_c____d254 = DEF_systolic_array_0_0_RDY_set_c____d254;
      vcd_write_val(sim_hdl, num++, DEF_systolic_array_0_0_RDY_set_s1_or_s2____d260, 1u);
      backing.DEF_systolic_array_0_0_RDY_set_s1_or_s2____d260 = DEF_systolic_array_0_0_RDY_set_s1_or_s2____d260;
      vcd_write_val(sim_hdl, num++, DEF_systolic_array_0_1_RDY_set_a____d177, 1u);
      backing.DEF_systolic_array_0_1_RDY_set_a____d177 = DEF_systolic_array_0_1_RDY_set_a____d177;
      vcd_write_val(sim_hdl, num++, DEF_systolic_array_0_1_RDY_set_c____d255, 1u);
      backing.DEF_systolic_array_0_1_RDY_set_c____d255 = DEF_systolic_array_0_1_RDY_set_c____d255;
      vcd_write_val(sim_hdl, num++, DEF_systolic_array_0_1_RDY_set_s1_or_s2____d261, 1u);
      backing.DEF_systolic_array_0_1_RDY_set_s1_or_s2____d261 = DEF_systolic_array_0_1_RDY_set_s1_or_s2____d261;
      vcd_write_val(sim_hdl, num++, DEF_systolic_array_0_2_RDY_set_a____d196, 1u);
      backing.DEF_systolic_array_0_2_RDY_set_a____d196 = DEF_systolic_array_0_2_RDY_set_a____d196;
      vcd_write_val(sim_hdl, num++, DEF_systolic_array_0_2_RDY_set_c____d256, 1u);
      backing.DEF_systolic_array_0_2_RDY_set_c____d256 = DEF_systolic_array_0_2_RDY_set_c____d256;
      vcd_write_val(sim_hdl, num++, DEF_systolic_array_0_2_RDY_set_s1_or_s2____d262, 1u);
      backing.DEF_systolic_array_0_2_RDY_set_s1_or_s2____d262 = DEF_systolic_array_0_2_RDY_set_s1_or_s2____d262;
      vcd_write_val(sim_hdl, num++, DEF_systolic_array_0_3_RDY_set_a____d215, 1u);
      backing.DEF_systolic_array_0_3_RDY_set_a____d215 = DEF_systolic_array_0_3_RDY_set_a____d215;
      vcd_write_val(sim_hdl, num++, DEF_systolic_array_0_3_RDY_set_c____d257, 1u);
      backing.DEF_systolic_array_0_3_RDY_set_c____d257 = DEF_systolic_array_0_3_RDY_set_c____d257;
      vcd_write_val(sim_hdl, num++, DEF_systolic_array_0_3_RDY_set_s1_or_s2____d263, 1u);
      backing.DEF_systolic_array_0_3_RDY_set_s1_or_s2____d263 = DEF_systolic_array_0_3_RDY_set_s1_or_s2____d263;
      vcd_write_val(sim_hdl, num++, DEF_systolic_array_1_0_RDY_set_c____d60, 1u);
      backing.DEF_systolic_array_1_0_RDY_set_c____d60 = DEF_systolic_array_1_0_RDY_set_c____d60;
      vcd_write_val(sim_hdl, num++, DEF_systolic_array_1_0_RDY_set_s1_or_s2____d64, 1u);
      backing.DEF_systolic_array_1_0_RDY_set_s1_or_s2____d64 = DEF_systolic_array_1_0_RDY_set_s1_or_s2____d64;
      vcd_write_val(sim_hdl, num++, DEF_systolic_array_1_1_RDY_set_a____d178, 1u);
      backing.DEF_systolic_array_1_1_RDY_set_a____d178 = DEF_systolic_array_1_1_RDY_set_a____d178;
      vcd_write_val(sim_hdl, num++, DEF_systolic_array_1_1_RDY_set_c____d61, 1u);
      backing.DEF_systolic_array_1_1_RDY_set_c____d61 = DEF_systolic_array_1_1_RDY_set_c____d61;
      vcd_write_val(sim_hdl, num++, DEF_systolic_array_1_1_RDY_set_s1_or_s2____d65, 1u);
      backing.DEF_systolic_array_1_1_RDY_set_s1_or_s2____d65 = DEF_systolic_array_1_1_RDY_set_s1_or_s2____d65;
      vcd_write_val(sim_hdl, num++, DEF_systolic_array_1_2_RDY_set_a____d197, 1u);
      backing.DEF_systolic_array_1_2_RDY_set_a____d197 = DEF_systolic_array_1_2_RDY_set_a____d197;
      vcd_write_val(sim_hdl, num++, DEF_systolic_array_1_2_RDY_set_c____d62, 1u);
      backing.DEF_systolic_array_1_2_RDY_set_c____d62 = DEF_systolic_array_1_2_RDY_set_c____d62;
      vcd_write_val(sim_hdl, num++, DEF_systolic_array_1_2_RDY_set_s1_or_s2____d66, 1u);
      backing.DEF_systolic_array_1_2_RDY_set_s1_or_s2____d66 = DEF_systolic_array_1_2_RDY_set_s1_or_s2____d66;
      vcd_write_val(sim_hdl, num++, DEF_systolic_array_1_3_RDY_set_a____d216, 1u);
      backing.DEF_systolic_array_1_3_RDY_set_a____d216 = DEF_systolic_array_1_3_RDY_set_a____d216;
      vcd_write_val(sim_hdl, num++, DEF_systolic_array_1_3_RDY_set_c____d63, 1u);
      backing.DEF_systolic_array_1_3_RDY_set_c____d63 = DEF_systolic_array_1_3_RDY_set_c____d63;
      vcd_write_val(sim_hdl, num++, DEF_systolic_array_1_3_RDY_set_s1_or_s2____d67, 1u);
      backing.DEF_systolic_array_1_3_RDY_set_s1_or_s2____d67 = DEF_systolic_array_1_3_RDY_set_s1_or_s2____d67;
      vcd_write_val(sim_hdl, num++, DEF_systolic_array_2_0_RDY_set_c____d99, 1u);
      backing.DEF_systolic_array_2_0_RDY_set_c____d99 = DEF_systolic_array_2_0_RDY_set_c____d99;
      vcd_write_val(sim_hdl, num++, DEF_systolic_array_2_0_RDY_set_s1_or_s2____d103, 1u);
      backing.DEF_systolic_array_2_0_RDY_set_s1_or_s2____d103 = DEF_systolic_array_2_0_RDY_set_s1_or_s2____d103;
      vcd_write_val(sim_hdl, num++, DEF_systolic_array_2_1_RDY_set_a____d179, 1u);
      backing.DEF_systolic_array_2_1_RDY_set_a____d179 = DEF_systolic_array_2_1_RDY_set_a____d179;
      vcd_write_val(sim_hdl, num++, DEF_systolic_array_2_1_RDY_set_c____d100, 1u);
      backing.DEF_systolic_array_2_1_RDY_set_c____d100 = DEF_systolic_array_2_1_RDY_set_c____d100;
      vcd_write_val(sim_hdl, num++, DEF_systolic_array_2_1_RDY_set_s1_or_s2____d104, 1u);
      backing.DEF_systolic_array_2_1_RDY_set_s1_or_s2____d104 = DEF_systolic_array_2_1_RDY_set_s1_or_s2____d104;
      vcd_write_val(sim_hdl, num++, DEF_systolic_array_2_2_RDY_set_a____d198, 1u);
      backing.DEF_systolic_array_2_2_RDY_set_a____d198 = DEF_systolic_array_2_2_RDY_set_a____d198;
      vcd_write_val(sim_hdl, num++, DEF_systolic_array_2_2_RDY_set_c____d101, 1u);
      backing.DEF_systolic_array_2_2_RDY_set_c____d101 = DEF_systolic_array_2_2_RDY_set_c____d101;
      vcd_write_val(sim_hdl, num++, DEF_systolic_array_2_2_RDY_set_s1_or_s2____d105, 1u);
      backing.DEF_systolic_array_2_2_RDY_set_s1_or_s2____d105 = DEF_systolic_array_2_2_RDY_set_s1_or_s2____d105;
      vcd_write_val(sim_hdl, num++, DEF_systolic_array_2_3_RDY_set_a____d217, 1u);
      backing.DEF_systolic_array_2_3_RDY_set_a____d217 = DEF_systolic_array_2_3_RDY_set_a____d217;
      vcd_write_val(sim_hdl, num++, DEF_systolic_array_2_3_RDY_set_c____d102, 1u);
      backing.DEF_systolic_array_2_3_RDY_set_c____d102 = DEF_systolic_array_2_3_RDY_set_c____d102;
      vcd_write_val(sim_hdl, num++, DEF_systolic_array_2_3_RDY_set_s1_or_s2____d106, 1u);
      backing.DEF_systolic_array_2_3_RDY_set_s1_or_s2____d106 = DEF_systolic_array_2_3_RDY_set_s1_or_s2____d106;
      vcd_write_val(sim_hdl, num++, DEF_systolic_array_3_0_RDY_set_c____d138, 1u);
      backing.DEF_systolic_array_3_0_RDY_set_c____d138 = DEF_systolic_array_3_0_RDY_set_c____d138;
      vcd_write_val(sim_hdl, num++, DEF_systolic_array_3_0_RDY_set_s1_or_s2____d142, 1u);
      backing.DEF_systolic_array_3_0_RDY_set_s1_or_s2____d142 = DEF_systolic_array_3_0_RDY_set_s1_or_s2____d142;
      vcd_write_val(sim_hdl, num++, DEF_systolic_array_3_1_RDY_set_a____d180, 1u);
      backing.DEF_systolic_array_3_1_RDY_set_a____d180 = DEF_systolic_array_3_1_RDY_set_a____d180;
      vcd_write_val(sim_hdl, num++, DEF_systolic_array_3_1_RDY_set_c____d139, 1u);
      backing.DEF_systolic_array_3_1_RDY_set_c____d139 = DEF_systolic_array_3_1_RDY_set_c____d139;
      vcd_write_val(sim_hdl, num++, DEF_systolic_array_3_1_RDY_set_s1_or_s2____d143, 1u);
      backing.DEF_systolic_array_3_1_RDY_set_s1_or_s2____d143 = DEF_systolic_array_3_1_RDY_set_s1_or_s2____d143;
      vcd_write_val(sim_hdl, num++, DEF_systolic_array_3_2_RDY_set_a____d199, 1u);
      backing.DEF_systolic_array_3_2_RDY_set_a____d199 = DEF_systolic_array_3_2_RDY_set_a____d199;
      vcd_write_val(sim_hdl, num++, DEF_systolic_array_3_2_RDY_set_c____d140, 1u);
      backing.DEF_systolic_array_3_2_RDY_set_c____d140 = DEF_systolic_array_3_2_RDY_set_c____d140;
      vcd_write_val(sim_hdl, num++, DEF_systolic_array_3_2_RDY_set_s1_or_s2____d144, 1u);
      backing.DEF_systolic_array_3_2_RDY_set_s1_or_s2____d144 = DEF_systolic_array_3_2_RDY_set_s1_or_s2____d144;
      vcd_write_val(sim_hdl, num++, DEF_systolic_array_3_3_RDY_set_a____d218, 1u);
      backing.DEF_systolic_array_3_3_RDY_set_a____d218 = DEF_systolic_array_3_3_RDY_set_a____d218;
      vcd_write_val(sim_hdl, num++, DEF_systolic_array_3_3_RDY_set_c____d141, 1u);
      backing.DEF_systolic_array_3_3_RDY_set_c____d141 = DEF_systolic_array_3_3_RDY_set_c____d141;
      vcd_write_val(sim_hdl, num++, DEF_systolic_array_3_3_RDY_set_s1_or_s2____d145, 1u);
      backing.DEF_systolic_array_3_3_RDY_set_s1_or_s2____d145 = DEF_systolic_array_3_3_RDY_set_s1_or_s2____d145;
      vcd_write_val(sim_hdl, num++, PORT_EN_initialise_systolic, 1u);
      backing.PORT_EN_initialise_systolic = PORT_EN_initialise_systolic;
      vcd_write_val(sim_hdl, num++, PORT_get_result, 128u);
      backing.PORT_get_result = PORT_get_result;
    }
}

void MOD_mkSystolic::vcd_prims(tVCDDumpType dt, MOD_mkSystolic &backing)
{
  INST_counter.dump_VCD(dt, backing.INST_counter);
}

void MOD_mkSystolic::vcd_submodules(tVCDDumpType dt, unsigned int levels, MOD_mkSystolic &backing)
{
  INST_systolic_array_0_0.dump_VCD(dt, levels, backing.INST_systolic_array_0_0);
  INST_systolic_array_0_1.dump_VCD(dt, levels, backing.INST_systolic_array_0_1);
  INST_systolic_array_0_2.dump_VCD(dt, levels, backing.INST_systolic_array_0_2);
  INST_systolic_array_0_3.dump_VCD(dt, levels, backing.INST_systolic_array_0_3);
  INST_systolic_array_1_0.dump_VCD(dt, levels, backing.INST_systolic_array_1_0);
  INST_systolic_array_1_1.dump_VCD(dt, levels, backing.INST_systolic_array_1_1);
  INST_systolic_array_1_2.dump_VCD(dt, levels, backing.INST_systolic_array_1_2);
  INST_systolic_array_1_3.dump_VCD(dt, levels, backing.INST_systolic_array_1_3);
  INST_systolic_array_2_0.dump_VCD(dt, levels, backing.INST_systolic_array_2_0);
  INST_systolic_array_2_1.dump_VCD(dt, levels, backing.INST_systolic_array_2_1);
  INST_systolic_array_2_2.dump_VCD(dt, levels, backing.INST_systolic_array_2_2);
  INST_systolic_array_2_3.dump_VCD(dt, levels, backing.INST_systolic_array_2_3);
  INST_systolic_array_3_0.dump_VCD(dt, levels, backing.INST_systolic_array_3_0);
  INST_systolic_array_3_1.dump_VCD(dt, levels, backing.INST_systolic_array_3_1);
  INST_systolic_array_3_2.dump_VCD(dt, levels, backing.INST_systolic_array_3_2);
  INST_systolic_array_3_3.dump_VCD(dt, levels, backing.INST_systolic_array_3_3);
}
